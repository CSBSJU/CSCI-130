\usepackage{framed}
\usepackage[margin=1in]{geometry}
\usepackage{unicode-math}
\setmainfont
[ Extension = .otf,
  UprightFont = *-regular,
  BoldFont = *-bold,
  ItalicFont = *-italic,
  BoldItalicFont = *-bolditalic,
]{xits}

\setmathfont
[ Extension = .otf,
  BoldFont = *bold,
]{xits-math}

\let\oldrule=\rule
\renewcommand{\rule}[1]{\oldrule{\linewidth}}

\ifdefined\Shaded
  \makeatletter
  \renewenvironment{Shaded}[1][\hsize]
  {%
    \vspace{.75\baselineskip}%
    \def\FrameCommand
    {%
      {%
        \color{lightgray}\vrule width 8pt}%
        \hspace{0pt}%must no space.
        \fboxsep=\FrameSep\fcolorbox{lightgray}{white}%
      }%
    \MakeFramed{%
      \hsize#1\advance\hsize-\width%
      \@totalleftmargin=-\itemindent%
      \FrameRestore%
    }%
  }%
  {\endMakeFramed}%
  \makeatother

  \renewcommand{\CommentTok}[1]{\textcolor[RGB]{0,128,0}{#1}}
  \renewcommand{\KeywordTok}[1]{\textcolor[RGB]{0,0,255}{#1}}
  \renewcommand{\StringTok}[1]{\textcolor[RGB]{163,21,21}{#1}}
  \renewcommand{\BuiltInTok}[1]{\textcolor[RGB]{43,145,175}{#1}}
\fi

\usepackage{titling}
\posttitle{\par\end{center}\vspace{-20pt}}
\setlength{\droptitle}{-40pt}
